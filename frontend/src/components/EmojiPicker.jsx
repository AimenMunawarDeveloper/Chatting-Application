import { useState } from "react";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faSmile, faTimes } from "@fortawesome/free-solid-svg-icons";
import PropTypes from "prop-types";

const EmojiPicker = ({ onEmojiSelect, isOpen, onClose }) => {
  const [selectedCategory, setSelectedCategory] = useState("smileys");

  const emojiCategories = {
    smileys: {
      name: "Smileys & People",
      emojis: [
        "ðŸ˜€",
        "ðŸ˜ƒ",
        "ðŸ˜„",
        "ðŸ˜",
        "ðŸ˜†",
        "ðŸ˜…",
        "ðŸ˜‚",
        "ðŸ¤£",
        "ðŸ˜Š",
        "ðŸ˜‡",
        "ðŸ™‚",
        "ðŸ™ƒ",
        "ðŸ˜‰",
        "ðŸ˜Œ",
        "ðŸ˜",
        "ðŸ¥°",
        "ðŸ˜˜",
        "ðŸ˜—",
        "ðŸ˜™",
        "ðŸ˜š",
        "ðŸ˜‹",
        "ðŸ˜›",
        "ðŸ˜",
        "ðŸ˜œ",
        "ðŸ¤ª",
        "ðŸ¤¨",
        "ðŸ§",
        "ðŸ¤“",
        "ðŸ˜Ž",
        "ðŸ¤©",
        "ðŸ¥³",
        "ðŸ˜",
        "ðŸ˜’",
        "ðŸ˜ž",
        "ðŸ˜”",
        "ðŸ˜Ÿ",
        "ðŸ˜•",
        "ðŸ™",
        "ðŸ˜£",
        "ðŸ˜–",
        "ðŸ˜«",
        "ðŸ˜©",
        "ðŸ¥º",
        "ðŸ˜¢",
        "ðŸ˜­",
        "ðŸ˜¤",
        "ðŸ˜ ",
        "ðŸ˜¡",
        "ðŸ¤¬",
        "ðŸ¤¯",
        "ðŸ˜³",
        "ðŸ¥µ",
        "ðŸ¥¶",
        "ðŸ˜±",
        "ðŸ˜¨",
        "ðŸ˜°",
        "ðŸ˜¥",
        "ðŸ˜“",
        "ðŸ¤—",
        "ðŸ¤”",
        "ðŸ¤­",
        "ðŸ¤«",
        "ðŸ¤¥",
        "ðŸ˜¶",
        "ðŸ˜",
        "ðŸ˜‘",
        "ðŸ˜¬",
        "ðŸ™„",
        "ðŸ˜¯",
        "ðŸ˜¦",
        "ðŸ˜§",
        "ðŸ˜®",
        "ðŸ˜²",
        "ðŸ¥±",
        "ðŸ˜´",
        "ðŸ¤¤",
        "ðŸ˜ª",
        "ðŸ˜µ",
        "ðŸ¤",
        "ðŸ¥´",
        "ðŸ¤¢",
        "ðŸ¤®",
        "ðŸ¤§",
        "ðŸ˜·",
        "ðŸ¤’",
        "ðŸ¤•",
      ],
    },
    animals: {
      name: "Animals & Nature",
      emojis: [
        "ðŸ¶",
        "ðŸ±",
        "ðŸ­",
        "ðŸ¹",
        "ðŸ°",
        "ðŸ¦Š",
        "ðŸ»",
        "ðŸ¼",
        "ðŸ¨",
        "ðŸ¯",
        "ðŸ¦",
        "ðŸ®",
        "ðŸ·",
        "ðŸ½",
        "ðŸ¸",
        "ðŸµ",
        "ðŸ™ˆ",
        "ðŸ™‰",
        "ðŸ™Š",
        "ðŸ’",
        "ðŸ”",
        "ðŸ§",
        "ðŸ¦",
        "ðŸ¤",
        "ðŸ£",
        "ðŸ¥",
        "ðŸ¦†",
        "ðŸ¦…",
        "ðŸ¦‰",
        "ðŸ¦‡",
        "ðŸº",
        "ðŸ—",
        "ðŸ´",
        "ðŸ¦„",
        "ðŸ",
        "ðŸ›",
        "ðŸ¦‹",
        "ðŸŒ",
        "ðŸž",
        "ðŸœ",
        "ðŸ¦Ÿ",
        "ðŸ¦—",
        "ðŸ•·",
        "ðŸ•¸",
        "ðŸ¦‚",
        "ðŸ¢",
        "ðŸ",
        "ðŸ¦Ž",
        "ðŸ¦–",
        "ðŸ¦•",
        "ðŸ™",
        "ðŸ¦‘",
        "ðŸ¦",
        "ðŸ¦ž",
        "ðŸ¦€",
        "ðŸ¡",
        "ðŸ ",
        "ðŸŸ",
        "ðŸ¬",
        "ðŸ³",
        "ðŸ‹",
        "ðŸ¦ˆ",
        "ðŸŠ",
        "ðŸ…",
        "ðŸ†",
        "ðŸ¦“",
        "ðŸ¦",
        "ðŸ¦§",
        "ðŸ˜",
        "ðŸ¦›",
        "ðŸ¦",
        "ðŸª",
        "ðŸ«",
        "ðŸ¦’",
        "ðŸ¦˜",
        "ðŸƒ",
        "ðŸ‚",
        "ðŸ„",
        "ðŸŽ",
        "ðŸ–",
        "ðŸ",
        "ðŸ‘",
        "ðŸ¦™",
        "ðŸ",
        "ðŸ¦Œ",
        "ðŸ•",
        "ðŸ©",
        "ðŸ¦®",
        "ðŸ•â€ðŸ¦º",
        "ðŸˆ",
        "ðŸ“",
        "ðŸ¦ƒ",
        "ðŸ¦š",
        "ðŸ¦œ",
        "ðŸ¦¢",
        "ðŸ¦©",
        "ðŸ•Š",
        "ðŸ‡",
        "ðŸ¦",
        "ðŸ¦¨",
        "ðŸ¦¡",
        "ðŸ¦¦",
        "ðŸ¦¥",
        "ðŸ",
        "ðŸ€",
        "ðŸ¿",
        "ðŸ¦”",
      ],
    },
    food: {
      name: "Food & Drink",
      emojis: [
        "ðŸŽ",
        "ðŸ",
        "ðŸŠ",
        "ðŸ‹",
        "ðŸŒ",
        "ðŸ‰",
        "ðŸ‡",
        "ðŸ“",
        "ðŸ«",
        "ðŸˆ",
        "ðŸ’",
        "ðŸ‘",
        "ðŸ¥­",
        "ðŸ",
        "ðŸ¥¥",
        "ðŸ¥",
        "ðŸ…",
        "ðŸ†",
        "ðŸ¥‘",
        "ðŸ¥¦",
        "ðŸ¥¬",
        "ðŸ¥’",
        "ðŸŒ¶",
        "ðŸ«‘",
        "ðŸŒ½",
        "ðŸ¥•",
        "ðŸ«’",
        "ðŸ§„",
        "ðŸ§…",
        "ðŸ¥”",
        "ðŸ ",
        "ðŸ¥",
        "ðŸ¥¯",
        "ðŸž",
        "ðŸ¥–",
        "ðŸ¥¨",
        "ðŸ§€",
        "ðŸ¥š",
        "ðŸ³",
        "ðŸ§ˆ",
        "ðŸ¥ž",
        "ðŸ§‡",
        "ðŸ¥“",
        "ðŸ¥©",
        "ðŸ—",
        "ðŸ–",
        "ðŸ¦´",
        "ðŸŒ­",
        "ðŸ”",
        "ðŸŸ",
        "ðŸ•",
        "ðŸ«“",
        "ðŸ¥ª",
        "ðŸ¥™",
        "ðŸ§†",
        "ðŸŒ®",
        "ðŸŒ¯",
        "ðŸ«”",
        "ðŸ¥—",
        "ðŸ¥˜",
        "ðŸ«•",
        "ðŸ¥«",
        "ðŸ",
        "ðŸœ",
        "ðŸ²",
        "ðŸ›",
        "ðŸ£",
        "ðŸ±",
        "ðŸ¥Ÿ",
        "ðŸ¦ª",
        "ðŸ¤",
        "ðŸ™",
        "ðŸš",
        "ðŸ˜",
        "ðŸ¥",
        "ðŸ¥ ",
        "ðŸ¥®",
        "ðŸ¢",
        "ðŸ¡",
        "ðŸ§",
        "ðŸ¨",
        "ðŸ¦",
        "ðŸ¥§",
        "ðŸ§",
        "ðŸ°",
        "ðŸŽ‚",
        "ðŸ®",
        "ðŸ­",
        "ðŸ¬",
        "ðŸ«",
        "ðŸ¿",
        "ðŸ©",
        "ðŸª",
        "ðŸŒ°",
        "ðŸ¥œ",
        "ðŸ¯",
        "ðŸ¥›",
        "ðŸ¼",
        "â˜•",
        "ðŸµ",
        "ðŸ§ƒ",
        "ðŸ¥¤",
        "ðŸ¶",
        "ðŸº",
        "ðŸ»",
        "ðŸ¥‚",
        "ðŸ·",
        "ðŸ¥ƒ",
        "ðŸ¸",
        "ðŸ¹",
        "ðŸ§‰",
        "ðŸ¾",
      ],
    },
    activities: {
      name: "Activities",
      emojis: [
        "âš½",
        "ðŸ€",
        "ðŸˆ",
        "âš¾",
        "ðŸ¥Ž",
        "ðŸŽ¾",
        "ðŸ",
        "ðŸ‰",
        "ðŸ¥",
        "ðŸŽ±",
        "ðŸª€",
        "ðŸ“",
        "ðŸ¸",
        "ðŸ’",
        "ðŸ‘",
        "ðŸ¥",
        "ðŸ",
        "ðŸªƒ",
        "ðŸ¥…",
        "â›³",
        "ðŸª",
        "ðŸ¹",
        "ðŸŽ£",
        "ðŸ¤¿",
        "ðŸ¥Š",
        "ðŸ¥‹",
        "ðŸŽ½",
        "ðŸ›¹",
        "ðŸ›·",
        "â›¸",
        "ðŸ¥Œ",
        "ðŸŽ¿",
        "â›·",
        "ðŸ‚",
        "ðŸª‚",
        "ðŸ‹ï¸â€â™€ï¸",
        "ðŸ‹ï¸",
        "ðŸ‹ï¸â€â™‚ï¸",
        "ðŸ¤¼â€â™€ï¸",
        "ðŸ¤¼",
        "ðŸ¤¼â€â™‚ï¸",
        "ðŸ¤¸â€â™€ï¸",
        "ðŸ¤¸",
        "ðŸ¤¸â€â™‚ï¸",
        "â›¹ï¸â€â™€ï¸",
        "â›¹ï¸",
        "â›¹ï¸â€â™‚ï¸",
        "ðŸ¤º",
        "ðŸ¤¾â€â™€ï¸",
        "ðŸ¤¾",
        "ðŸ¤¾â€â™‚ï¸",
        "ðŸŒï¸â€â™€ï¸",
        "ðŸŒï¸",
        "ðŸŒï¸â€â™‚ï¸",
        "ðŸ‡",
        "ðŸ§˜â€â™€ï¸",
        "ðŸ§˜",
        "ðŸ§˜â€â™‚ï¸",
        "ðŸ„â€â™€ï¸",
        "ðŸ„",
        "ðŸ„â€â™‚ï¸",
        "ðŸŠâ€â™€ï¸",
        "ðŸŠ",
        "ðŸŠâ€â™‚ï¸",
        "ðŸ¤½â€â™€ï¸",
        "ðŸ¤½",
        "ðŸ¤½â€â™‚ï¸",
        "ðŸš£â€â™€ï¸",
        "ðŸš£",
        "ðŸš£â€â™‚ï¸",
        "ðŸ§—â€â™€ï¸",
        "ðŸ§—",
        "ðŸ§—â€â™‚ï¸",
        "ðŸšµâ€â™€ï¸",
        "ðŸšµ",
        "ðŸšµâ€â™‚ï¸",
        "ðŸš´â€â™€ï¸",
        "ðŸš´",
        "ðŸš´â€â™‚ï¸",
        "ðŸ†",
        "ðŸ¥‡",
        "ðŸ¥ˆ",
        "ðŸ¥‰",
        "ðŸ…",
        "ðŸŽ–",
        "ðŸµ",
        "ðŸŽ—",
        "ðŸŽ«",
        "ðŸŽŸ",
        "ðŸŽª",
        "ðŸ¤¹â€â™€ï¸",
        "ðŸ¤¹",
        "ðŸ¤¹â€â™‚ï¸",
        "ðŸŽ­",
        "ðŸ©°",
        "ðŸŽ¨",
        "ðŸŽ¬",
        "ðŸŽ¤",
        "ðŸŽ§",
        "ðŸŽ¼",
        "ðŸŽ¹",
        "ðŸ¥",
        "ðŸŽ·",
        "ðŸŽº",
        "ðŸŽ¸",
        "ðŸª•",
        "ðŸŽ»",
        "ðŸŽ²",
        "â™Ÿ",
        "ðŸŽ¯",
        "ðŸŽ³",
        "ðŸŽ®",
        "ðŸŽ°",
        "ðŸ§©",
      ],
    },
    objects: {
      name: "Objects",
      emojis: [
        "âŒš",
        "ðŸ“±",
        "ðŸ“²",
        "ðŸ’»",
        "âŒ¨",
        "ðŸ–¥",
        "ðŸ–¨",
        "ðŸ–±",
        "ðŸ–²",
        "ðŸ•¹",
        "ðŸ—œ",
        "ðŸ’½",
        "ðŸ’¾",
        "ðŸ’¿",
        "ðŸ“€",
        "ðŸ“¼",
        "ðŸ“·",
        "ðŸ“¸",
        "ðŸ“¹",
        "ðŸŽ¥",
        "ðŸ“½",
        "ðŸŽž",
        "ðŸ“ž",
        "â˜Ž",
        "ðŸ“Ÿ",
        "ðŸ“ ",
        "ðŸ“º",
        "ðŸ“»",
        "ðŸŽ™",
        "ðŸŽš",
        "ðŸŽ›",
        "ðŸ§­",
        "â±",
        "â²",
        "â°",
        "ðŸ•°",
        "âŒ›",
        "â³",
        "ðŸ“¡",
        "ðŸ”‹",
        "ðŸ”Œ",
        "ðŸ’¡",
        "ðŸ”¦",
        "ðŸ•¯",
        "ðŸª”",
        "ðŸ§¯",
        "ðŸ›¢",
        "ðŸ’¸",
        "ðŸ’µ",
        "ðŸ’´",
        "ðŸ’¶",
        "ðŸ’·",
        "ðŸ’°",
        "ðŸ’³",
        "ðŸ’Ž",
        "âš–",
        "ðŸ§°",
        "ðŸ”§",
        "ðŸ”¨",
        "âš’",
        "ðŸ› ",
        "â›",
        "ðŸ”©",
        "âš™",
        "ðŸ§±",
        "â›“",
        "ðŸ§²",
        "ðŸ”«",
        "ðŸ’£",
        "ðŸ§¨",
        "ðŸª“",
        "ðŸ”ª",
        "ðŸ—¡",
        "âš”",
        "ðŸ›¡",
        "ðŸš¬",
        "âš°",
        "âš±",
        "ðŸº",
        "ðŸ”®",
        "ðŸ“¿",
        "ðŸ§¿",
        "ðŸ’ˆ",
        "âš—",
        "ðŸ”­",
        "ðŸ”¬",
        "ðŸ•³",
        "ðŸ©¹",
        "ðŸ©º",
        "ðŸ’Š",
        "ðŸ’‰",
        "ðŸ©¸",
        "ðŸ§¬",
        "ðŸ¦ ",
        "ðŸ§«",
        "ðŸ§ª",
        "ðŸŒ¡",
        "ðŸ§¹",
        "ðŸ§º",
        "ðŸ§»",
        "ðŸš½",
        "ðŸš°",
        "ðŸš¿",
        "ðŸ›",
        "ðŸ›€",
        "ðŸ§¼",
        "ðŸª’",
        "ðŸ§½",
        "ðŸ§´",
        "ðŸ›Ž",
        "ðŸ”‘",
        "ðŸ—",
        "ðŸšª",
        "ðŸª‘",
        "ðŸ›‹",
        "ðŸ›",
        "ðŸ›Œ",
        "ðŸ§¸",
        "ðŸ–¼",
        "ðŸ›",
        "ðŸ›’",
        "ðŸŽ",
        "ðŸŽ€",
        "ðŸŽŠ",
        "ðŸŽ‰",
        "ðŸŽˆ",
        "ðŸŽ„",
        "ðŸŽƒ",
        "ðŸŽ†",
        "ðŸ§¨",
        "ðŸŽ‡",
        "ðŸ§§",
        "ðŸŽ",
        "ðŸŽ",
        "ðŸŽŽ",
        "ðŸŽ‘",
        "ðŸ§©",
        "ðŸŽ–",
        "ðŸ†",
        "ðŸ“¢",
        "ðŸ“£",
        "ðŸ“¯",
        "ðŸ””",
        "ðŸ”•",
        "ðŸŽµ",
        "ðŸŽ¶",
        "ðŸ’¹",
        "ðŸ›•",
        "ðŸ›¤",
        "ðŸ›£",
        "ðŸ—º",
        "ðŸ—¿",
        "ðŸ—»",
        "ðŸ”",
        "â›°",
        "ðŸŒ‹",
        "ðŸ•",
        "ðŸ–",
        "ðŸœ",
        "ðŸ",
        "ðŸž",
        "ðŸŸ",
        "ðŸ›",
        "ðŸ—",
        "ðŸ§±",
        "ðŸ˜",
        "ðŸš",
        "ðŸ ",
        "ðŸ¡",
        "ðŸ¢",
        "ðŸ£",
        "ðŸ¤",
        "ðŸ¥",
        "ðŸ¦",
        "ðŸ¨",
        "ðŸ©",
        "ðŸª",
        "ðŸ«",
        "ðŸ¬",
        "ðŸ­",
        "ðŸ¯",
        "ðŸ°",
        "ðŸ’’",
        "ðŸ—¼",
        "ðŸ—½",
        "â›ª",
        "ðŸ•Œ",
        "ðŸ›•",
        "ðŸ•",
        "â›©",
        "ðŸ•‹",
        "â›²",
        "â›º",
        "ðŸŒ",
        "ðŸŒƒ",
        "ðŸ™",
        "ðŸŒ„",
        "ðŸŒ…",
        "ðŸŒ†",
        "ðŸŒ‡",
        "ðŸŒ‰",
        "â™¨",
        "ðŸŽ ",
        "ðŸŽ¡",
        "ðŸŽ¢",
        "ðŸ’ˆ",
        "ðŸŽª",
        "ðŸš‚",
        "ðŸšƒ",
        "ðŸš„",
        "ðŸš…",
        "ðŸš†",
        "ðŸš‡",
        "ðŸšˆ",
        "ðŸš‰",
        "ðŸšŠ",
        "ðŸš",
        "ðŸšž",
        "ðŸš‹",
        "ðŸšŒ",
        "ðŸš",
        "ðŸšŽ",
        "ðŸš",
        "ðŸš‘",
        "ðŸš’",
        "ðŸš“",
        "ðŸš”",
        "ðŸš•",
        "ðŸš–",
        "ðŸš—",
        "ðŸš˜",
        "ðŸš™",
        "ðŸšš",
        "ðŸš›",
        "ðŸšœ",
        "ðŸŽ",
        "ðŸ",
        "ðŸ›µ",
        "ðŸ¦½",
        "ðŸ¦¼",
        "ðŸ›´",
        "ðŸš²",
        "ðŸ›º",
        "ðŸš",
        "ðŸšŸ",
        "ðŸš ",
        "ðŸš¡",
        "ðŸ›©",
        "âœˆ",
        "ðŸ›«",
        "ðŸ›¬",
        "ðŸª‚",
        "ðŸ’º",
        "ðŸš€",
        "ðŸ›¸",
        "ðŸš",
        "ðŸ›¶",
        "â›µ",
        "ðŸš¤",
        "ðŸ›¥",
        "ðŸ›³",
        "â›´",
        "ðŸš¢",
        "âš“",
        "â›½",
        "ðŸš§",
        "ðŸš¦",
        "ðŸš¥",
        "ðŸš",
        "ðŸ—º",
        "ðŸ—¿",
        "ðŸ—½",
        "ðŸ—¼",
        "ðŸ°",
        "ðŸ¯",
        "ðŸŸ",
        "ðŸŽ¡",
        "ðŸŽ¢",
        "ðŸŽ ",
        "â›²",
        "â›±",
        "ðŸ–",
        "ðŸ",
        "ðŸœ",
        "ðŸŒ‹",
        "â›°",
        "ðŸ”",
        "ðŸ—»",
        "ðŸ•",
        "â›º",
        "ðŸ ",
        "ðŸ¡",
        "ðŸ˜",
        "ðŸš",
        "ðŸ—",
        "ðŸ­",
        "ðŸ¢",
        "ðŸ¬",
        "ðŸ£",
        "ðŸ¤",
        "ðŸ¥",
        "ðŸ¦",
        "ðŸ¨",
        "ðŸª",
        "ðŸ«",
        "ðŸ©",
        "ðŸ’’",
        "ðŸ›",
        "â›ª",
        "ðŸ•Œ",
        "ðŸ•",
        "ðŸ›•",
        "ðŸ•‹",
        "â›©",
        "ðŸ›¤",
        "ðŸ›£",
        "ðŸ—º",
        "ðŸ—¿",
      ],
    },
  };

  const handleEmojiClick = (emoji) => {
    onEmojiSelect(emoji);
    onClose();
  };

  if (!isOpen) return null;

  return (
    <div className="absolute bottom-full left-0 mb-2 w-80 bg-white rounded-lg shadow-lg border z-50">
      <div className="flex justify-between items-center p-3 border-b">
        <h3 className="font-semibold text-gray-800">Choose an emoji</h3>
        <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
          <FontAwesomeIcon icon={faTimes} />
        </button>
      </div>

      <div className="flex border-b">
        {Object.entries(emojiCategories).map(([key, category]) => (
          <button
            key={key}
            onClick={() => setSelectedCategory(key)}
            className={`flex-1 px-3 py-2 text-sm font-medium border-b-2 ${
              selectedCategory === key
                ? "border-brightMagenta text-brightMagenta bg-brightMagenta/10"
                : "border-transparent text-gray-500 hover:text-gray-700"
            }`}
          >
            {category.name.split(" ")[0]}
          </button>
        ))}
      </div>

      <div className="p-3 h-64 overflow-y-auto">
        <div className="grid grid-cols-8 gap-2">
          {emojiCategories[selectedCategory].emojis.map((emoji, index) => (
            <button
              key={index}
              onClick={() => handleEmojiClick(emoji)}
              className="w-8 h-8 flex items-center justify-center text-lg hover:bg-gray-100 rounded"
            >
              {emoji}
            </button>
          ))}
        </div>
      </div>
    </div>
  );
};

EmojiPicker.propTypes = {
  onEmojiSelect: PropTypes.func.isRequired,
  isOpen: PropTypes.bool.isRequired,
  onClose: PropTypes.func.isRequired,
};

export default EmojiPicker;
